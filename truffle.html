<!DOCTYPE html>
<html class="no-js">
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel = "icon" href =  "images/myblog.png" type = "image/x-icon">
	<link rel="shortcut icon" href="favicon.ico">
	<!-- Google Fonts -->
	<link href='http://fonts.googleapis.com/css?family=Playfair+Display:400,700,400italic|Roboto:400,300,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/icomoon.css">
	<link rel="stylesheet" href="css/bootstrap.css">

	<link rel="stylesheet" href="css/style.css">

	<script src="js/modernizr-2.6.2.min.js"></script>

	</head>
	<body>
	<header id="fh5co-header">
		
		<div class="container-fluid">
			<div class="row">
				<div class="media">
		          <p>Blog designed by Guy Ulrich Â© 2022</p>
		        </div>
				<div class="col-lg-12 col-md-12 text-center">
					<h1 id="fh5co-logo"><a href="index.html">My  Blog <sup><img src="images/myblog.png" style="max-width:80px;"></sup></a></h1>
				</div>

			</div>
		
		</div>

	</header>
	<div class="container-fluid">
		<div class="row fh5co-post-entry single-entry">
			<article class="col-lg-8 col-lg-offset-2 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-12 col-xs-offset-0">
				<figure class="animate-box">
					<img src="images/f1.jpeg" alt="Image" class="img-responsive">
					<figcaption>Picture by <a href="https://trufflesuite.com/">Truffle</a> is the official logotype.</a></figcaption>
				</figure>
				<span class="fh5co-meta animate-box">Web3</span>
				<h2 class="fh5co-article-title animate-box"><a href="index.html">How to create a project using truffle?</a></h2>
				<span class="fh5co-meta fh5co-date animate-box">May 20th, 2022</span>
				
				<div class="col-lg-12 col-lg-offset-0 col-md-12 col-md-offset-0 col-sm-12 col-sm-offset-0 col-xs-12 col-xs-offset-0 text-left content-article">
					<div class="row">
						<div class="col-lg-8 cp-r animate-box">
							<h2>How to install Truffle?</h2>
							<p>First you need to install <a href="https://nodejs.org/en/">node.js</a> at the official website, with it, it will come the system npm, then you need to install <a href="https://visualstudio.microsoft.com/vs/">visual studio</a> also in the official website, once you have all of this all you need to do is to run the following command at the command prompt.</p> 

							<div class="cmd-style">npm install -g truffle</div>
							<p></p>
						</div>
						<div class="col-lg-4 animate-box">
							<div class="fh5co-highlight right">
								<h4>Note</h4>
								<p>Remmember after each process to restart the console and be sure to have the last python version updated.</p>
							</div>
						</div>
					</div>
				<div class="col-md-12 animate-box">
							<h2>Setting up truffle</h2>
							<p>First we need to open the terminal to start typing the commands. Then we create a folder for the project.</p>
							<div class="cmd-style">mkdir project</div><br>
							<p>We go inside the folder and we run truffle.</p>
							<div class="cmd-style">cd project</div>
							<div class="cmd-style">truffle init</div><br>
							<p>If we enlist the files with <b>dir</b> or with <b>ls</b> depending on the operating system it should look something like this</p>
							<figure>
								<img src="images/f2.png" class="img-responsive">
								<figcaption>In the contracts the solidity file goes, the migration files specifies how to deploy the smart contract, then in the test folder it will go the test file and finally in the config file where we will specifie the solidity version.</figcaption>
							</figure>
							<p>Secondly we need to enter the truffle-config.js, with the text editor vim, if you don't have you can install it.</p>
							<div class="cmd-style">vim truffle-config.js</div><br>
							<p>Once you are inside you can scroll with the arrows and you will have to find the compilers section so you can edit the solidity version, depending on wich is one that you are planning to use, to edit the pile you can press <b>i</b>, once you are done you press <b>esc</b> and then <b>:wq</b> to save the changes and exit the file.</p>
							<figure>
								<img src="images/f3.png" class="img-responsive">
								<figcaption>To learn more about the vim the commands you can check <a href="https://www.vim.org/docs.php">vim documentation</a>.</figcaption>
							</figure>
							<p>Then, you will create your solidity file inside the contracts directory, you can use the windows command<b>type nul > your_file.txt</b> or the unix one <b>touch</b></p>		
							<figure>
								<div class="cmd-style">type nul > contracts/file.sol</div>
								<div class="cmd-style">touch contracts/file.sol</div>	
								<figcaption>Now all you have to do, is to write your smart contract using vim</figcaption>
							</figure>

									
						<div class="col-lg-8 cp-r animate-box">
							<h2>How to install OpenZepellin</h2>
							<p>OpenZepellin is an opensource framework that makes easier the Web3 developement.</p>	
							<p>First we will initiate an npm project.</p>
							<div class="cmd-style">npm init -y</div>
							<div class="cmd-style">npm install @openzeppelin/test-helpers</div>
							<br style="margin-bottom: 10px;">
						</div>
						<div class="col-lg-4 animate-box">
							<div class="right">
								<img src="images/f4.png" class="img-responsive">
							</div>
						</div>
						<br>
						<div class="col-md-12 animate-box">
							<h2>How to deploy smart contract in truffle test?</h2>
							<p>First we are going to create the js file in the test folder.</p> 
							<h3>Syntax</h3>
							<p>Then we need to import the contract artifcact wich is an object created by truffle that allows you to interact with your contract. Then we create the contract block and inside it will be the whole test. We are going to define a variable to point at the smart contract. And to run separately our test we create a beforeEach block, when we are doing this we need to focus on the constructor of our solidity code. </p>

							<div class="cmd-style">touch test/file.js</div>
							<div class="cmd-style">vim test/file.js</div>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f5.png" alt="" class="img-responsive">
								<figcaption>Importing contract artifact</figcaption>
							</figure>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f6.png" alt="" class="img-responsive">
								<figcaption>Contract Block</figcaption>
							</figure>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f7.png" alt="" class="img-responsive">
								<figcaption>beforeEach/figcaption>
							</figure>
						</div>
						<div class="col-md-12 animate-box">
							<h2>Running test</h2>
							<p>We create an it block for each test, we start with a small description and then we add a callback function, we are goin to focus on our first function after the constructor. </p> 
							<h3>Syntax</h3>
							<p>The syntax for this is to first store in a const await, then we use the pointer to the smart contract and finally with after a dot with write the function we are calling. Also we run assertion with the assert function, and we put the statements that needs to happen in case they fail everything fails.</p>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f8.png" alt="" class="img-responsive">
								<figcaption>It block for each test</figcaption>
							</figure>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f9.png" alt="" class="img-responsive">
								<figcaption>Pointing to the smart contract</figcaption>
							</figure>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f10.png" alt="" class="img-responsive">
								<figcaption>Assertion</figcaption>
							</figure>
						</div>
						<br>	
						</div>
						<br>
						<div class="col-md-12 animate-box">
							<p>Once you are ready, you go back to the console in the project folder to run the next command to test it.</p>
							<div class="cmd-style">truffle test</div>		
							<p>If everything is okay, it should look like this.</p>
							<figure>
								<img src="images/f11.png" class="img-responsive">	
								<figcaption>In this case I was using the code of the wallet from the previous article</figcaption>
							</figure>									
						</div>
						<div class="col-md-12 animate-box">
							<h2>How to test when the function is expecting a revert?</h2>
							<p>First we need to add the openzepellin library that we added before. Using the expectRevert , asserts that promise was rejected due to a reverted transaction caused by a require or revert statement, In this case our modifier has a require used to say 'only approver allowed'.</p>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f12.png" alt="" class="img-responsive">
								<figcaption>Bringing the library</figcaption>
							</figure>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f13.png" alt="" class="img-responsive">
								<figcaption>Applying the function</figcaption>
							</figure>
						</div>
						<div class="col-md-4 animate-box">
							<figure>
								<img src="images/f14.png" alt="" class="img-responsive">
								<figcaption>That is the require from the modifier</figcaption>
							</figure>
						</div>



					</div>

					</div>
					
				</div>
			</article>
		</div>
	</div>
    <div class="" style="background: #FEFCF2; margin-left: 15%;">
        <div class="social-icons animate-box">
              <ul>
                <li>
                  <a href="https://github.com/G-Ulrich5000"><img src="images/github.png" style="max-width: 20px;"></a>
                </li>
                <li>
                  <a href="#"><img src="images/portfolio.png" style="max-width: 20px;"></a>
                </li>
                <li>
                  <a href="#" ><img src="images/why.png" style="max-width: 20px;"></a>
                </li>
              </ul>
        </div>
    </div>
	
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Main JS -->
	<script src="js/main.js"></script>

	</body>
</html>

